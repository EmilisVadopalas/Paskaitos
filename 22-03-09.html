<!DOCTYPE html>
<html lang="lt">

<head>
    <title>2022-03-09</title>
</head>

<body>
    <script>
        //Pirma uzduotis
        function factorial(number) {
            if (number == 1) {
                return number;
            } else {
                return number * factorial(number - 1);
            }
        }
        console.log(factorial(6));
        console.log(factorial(5));

        //Pirma su pasunkinimu
        var factorialShort = (number) => number == 1 ? number : number * factorialShort(--number);

        console.log(factorialShort(6));
        console.log(factorialShort(15));

        //Antra uzduotis
        function FibionachiFinder(nth) {
            if (nth <= 1) {
                return nth;
            }
            return FibionachiFinder(nth - 1) + FibionachiFinder(nth - 2);
        }
        console.log(FibionachiFinder(8));
        console.log(FibionachiFinder(10));

        //Antros uzduoties pasunkinimas
        var FibionachiFinderShort = (nth) => nth <= 1 ? nth : FibionachiFinderShort(nth - 1) + FibionachiFinderShort(nth - 2);

        console.log(FibionachiFinderShort(6));
        console.log(FibionachiFinderShort(9));


        var students = [{
            name: "Mindaugas",
            grades: [10, 5, 7]
        }, {
            name: "Jonas",
            grades: [10, 5, 7]
        }, {
            name: "Ana",
            grades: [10, 5, 7, 10]
        }, ];

        var studentsnew = [{
            name: "Mindaugas",
            grades: [10, 5, 7, 8, 8]
        }, {
            name: "Jonas",
            grades: [10, 5]
        }, {
            name: "Ana",
            grades: [10, 5, 7, 10, -51]
        }, ];

        //3.1 naudojant savo funkcija
        function StudentsWithAvarageMy(students) {
            var studentsWithAvg = [];
            for (var i = 0; i < students.length; i++) {
                studentsWithAvg.push(GetStudentGradesAvarage(students[i]));
            }
            return studentsWithAvg;
        }

        function GetStudentGradesAvarage(student) {
            let sum = 0;
            for (var j = 0; j < student.grades.length; j++) {
                sum = sum + student.grades[j];
            }
            return {
                "name": student.name,
                "avg": (sum / student.grades.length).toFixed(2)
            }
        }

        console.log(StudentsWithAvarageMy(studentsnew));

        //3.2 naudojant reduce(x,y =>)
        function StudentsWithAvarageReduce(students) {
            var studentsWithAvg = [];
            for (var i = 0; i < students.length; i++) {
                var avg = (students[i].grades.reduce((x, y) => x + y) / students[i].grades.length).toFixed(2);
                studentsWithAvg.push({
                    "name": students[i].name,
                    "avg": avg
                });
            }
            return studentsWithAvg;
        }
        console.log(StudentsWithAvarageReduce(studentsnew));
    </script>
</body>

</html>